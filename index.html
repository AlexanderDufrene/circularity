<!doctype html>

<html>
	<head>
		<meta charset="utf-8">

		<title>Operation Spark || Motion Poem</title>
		<meta name="description" content="Operation Spark Motion Poem">
		<meta name="author" content="operationspark.org">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	    
	    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
	    <link href="css/style.css" rel="stylesheet">

		<!-- all core CreateJS and 3rd party libraries are listed here: -->
		<script src="bower_components/lodash/lodash.min.js"></script>
		<script src="bower_components/easeljs/lib/easeljs-0.8.0.min.js"></script>
		<script src="bower_components/PreloadJS/lib/preloadjs-0.6.0.min.js"></script>
		<script src="bower_components/SoundJS/lib/soundjs-0.6.0.min.js"></script>
		<script src="bower_components/opspark-draw/draw.js"></script>
		<script src="bower_components/racket/racket.js"></script>

	    <!-- our app javascript code -->
	    <script src="js/opspark.js"></script>
	    
	    <style type="text/css">
	    	/*override default styles here*/
	    </style>
	</head>
	<body>
		<div>
			<canvas id="canvas" width="500" height="500"></canvas>
		</div>
		<script id="motion-poem">
			(function(){
				'use strict';
				
				var 
					draw = window.opspark.draw,
					physikz = window.opspark.racket.physikz,
					num = window.opspark.racket.num,
					
					app = window.opspark.makeApp({update: update}),
					canvas = app.canvas, 
					view = app.view,
					fps = draw.fps('#000');
				
				////////////////////////////////////////////////////////////////
				// ALL CODE GOES BELOW HERE                                   //
				////////////////////////////////////////////////////////////////
				
				// TODO 1: Declare our varialbes //
				var i, circle, circles;
				
				// TODO 2: Initialize i to 0 //
				i = 0;
				circles = [];
				
				// TOOD 3 : Stub out the while loop //
				while (i < 100) {
					// YOUR CODE STARTS HERE //
					
					// TOOD 4 : Create a radomized circle within the area of the canvas //
					circle = draw.randomCircleInArea(canvas, true, true, '#999');
					
					// TODO 5 : Add a blur filter to circles with alpha less than .2 //
					if (circle.alpha < .2) {
						draw.blurFilterOn(circle);
					}
					
					// TODO 6 : Add the circle to the view //
					view.addChild(circle);
					
					// TODO 7 : Push the circle into the circles Array //
					circles.push(circle);
					
					// TODO 8 : Add random velocity to the circle within the area of the canvas //
					physikz.addRandomVelocity(circle, canvas);
					
					
					// YOUR CODE ENDS HERE //
					
					// increment our counter - leave this as the last statement in the while loop //
					i++;
				}
				
				view.addChild(fps);
				app.addUpdateable(fps);

                function update() {						
					for (var i = 0; i < circles.length; i++) {
						circle = circles[i];
						
						physikz.updatePosition(circle);

						// if (circle.x - circle.radius > canvas.width) {
	     //                   circle.x = -circle.radius;
	     //               } else if (circle.x + circle.radius < 0) {
	     //                   circle.x = canvas.width + circle.radius;
	     //               } if (circle.y - circle.radius > canvas.height) {
	     //                   circle.y = -circle.radius;
	     //               } else if (circle.y < -circle.radius) {
	     //                   circle.y = canvas.height + circle.radius;
	     //               }
					}
                }
                
            ////////////////////////////////////////////////////////////////////
            // NO CODE BELOW HERE                                             //
			////////////////////////////////////////////////////////////////////
			})();
		</script>
	</body>

</html>